from sklearn.ensemble import RandomForestClassifier
import numpy as np
import cPickle

def main():
    file = open('D:/ASU-CS-Course/Machine learning/ML Project/project/ASMfeatures/trainLabels.csv','r')
    writeFile = open('C:/Users/Abhi/workspace/MalwareClassification/ALLDATA.txt', 'w')
    fileNames = file.readlines()
    #print fileNames[0],fileNames[1],fileNames[2]
    count = 0 
    alltypes = []
    for line in fileNames:
        try:
            classtype = int(line.split(",")[1])         
            filename = line.split(",")[0][1:-1]
            path = path = 'G:/project/train/'+filename+'.asm'
            try:
                f=open(path,'r')
                for item in f.readlines():
                    dtype = item.split(':')
                    #print dtype[0]
                    if dtype[0] not in alltypes:
                        alltypes.append(dtype[0])
                        #print alltypes
                         
                        #print type(item)
                        #break
                    
            except IOError:
                pass        
        except ValueError:
            print line
        count += 1
        print count
    for j in alltypes:
        writeFile.write(j+',')
    #for fi in fileNames:
    #    print fi 

if __name__=="__main__":
    main()
